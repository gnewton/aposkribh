
(raw.ps) run


aposkribh.raw# begin

clear

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% No errors Case #1
[
     [ (toString) { true toString}               [(true)] ]  
     [ (toString) { true toString}               [(true)] ]
     [ (toString) { 45.5 toString }              [(45.5)] ]
     [ (toString) { (foo) toString }             [(foo)]  ]
     [ (toString) { /foo toString }              [(/foo)] ]     
     [ (toString) { <<>> toString }              [(/dicttype)] ]
     [ (toString) { << 23 45>> toString }        [(/dicttype)] ]
     [ (toString) { null toString }              [(null)]      ]
     [ (concatstrings) { (a-)(b)  concatstrings} [(a-b)]       ]
     [ (add)      { 2 1 add }                    [3]           ]
     [ (add)      { 2 1 add pop }                []            ]
     [ (requires) { [/add /sub /mul] /thisProc requires } []   ]
 ]
expectCorrectResultsN


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Errors
% execution errors Case #2
% (add)      {  1  add}          /stackunderflow expectExecutionError

(add)      {  1  add}          null /stackunderflow expect
(add)      {  add }            null /stackunderflow expect
(add)      { (f) 1 add }       null /typecheck      expect
(toString) { 43 xtoString }    null /undefined      expect
(requires) { [/foo /bar /counters#] /thisProc requires } null /undefined expect
(requires) { [/foo]  /add requires } null /undefined expect
(requires) { 32  /add requires }     null /typecheck expect

% Results errors Case #3: Results errors
(add)      { 2 1 add }     [33]    expectIncorrectResults2
%(add)      { 2 1 add }     [33]   expectExecutionError
(add)      { 2 1 add }     [33]    expectIncorrectResults2
(add)      { 2 1 add }     [33]    expectIncorrectResults2
(add)      { 2 1 add }     [(3)]  expectIncorrectResults2
(add)      { 2 1 add }     [45]   expectIncorrectResults2
(toString) { 43 toString } [(439)] expectIncorrectResults2
(toString) { 43 toString } []     expectIncorrectResults2

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


end % aposkribh.raw#



